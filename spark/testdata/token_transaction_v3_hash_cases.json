{
  "description": "Cross-language hash cases in canonical Protobuf JSON for spark_token.TokenTransaction (version 3)",
  "testCases": [
    {
      "name": "mint_v3_full",
      "description": "Full mint transaction V3 with all fields including expiry time",
      "expectedHash": "fd28b274ab3c46724bf461dee23d9ab23c9c218af7f884bec028dd7ca1f4aa09",
      "tokenTransaction": {
        "version": 3,
        "mintInput": {
          "issuerPublicKey": "AvKb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60t",
          "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc="
        },
        "tokenOutputs": [
          {
            "id": "db1a4e48-0fc5-4f6c-8a80-d9d6c561a436",
            "ownerPublicKey": "AhmbUFpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc=",
            "tokenAmount": "AAAAAAAAAAAAAAAAAAAD6A==",
            "revocationCommitment": "AmSb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "withdrawBondSats": "10000",
            "withdrawRelativeBlockLocktime": "100"
          }
        ],
        "sparkOperatorIdentityPublicKeys": [
          "AsiZ0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        ],
        "network": "REGTEST",
        "validityDurationSeconds": "60",
        "clientCreatedTimestamp": "1970-01-01T00:00:00.100Z",
        "invoiceAttachments": []
      }
    },
    {
      "name": "create_v3_full",
      "description": "Full create transaction V3 with creation entity public key",
      "expectedHash": "7f48e28da1ac5b8d71efce66d76948d33c146aa54f9d0d67735a82c08dcf5a22",
      "tokenTransaction": {
        "version": 3,
        "createInput": {
          "issuerPublicKey": "AvKb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60t",
          "tokenName": "TestToken",
          "tokenTicker": "TEST",
          "decimals": 8,
          "maxSupply": "AAAAAAAAAAAAAAAAAAAD6A==",
          "isFreezable": false,
          "creationEntityPublicKey": "AhmbUFpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        },
        "tokenOutputs": [],
        "sparkOperatorIdentityPublicKeys": [
          "AsiZ0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        ],
        "network": "REGTEST",
        "validityDurationSeconds": "60",
        "clientCreatedTimestamp": "1970-01-01T00:00:00.100Z",
        "invoiceAttachments": []
      }
    },
    {
      "name": "transfer_v3_full",
      "description": "Full transfer transaction V3 without invoice attachments",
      "expectedHash": "7fb13e81a55269d585491ec0fca9b6d3087cb5b3191fead481f8e8b0efb36b64",
      "tokenTransaction": {
        "version": 3,
        "transferInput": {
          "outputsToSpend": [
            {
              "prevTokenTransactionHash": "rTW2SK1e5YJWb2L7n/F/Wps1NBxuoFKOi+P+c5hshJQ=",
              "prevTokenTransactionVout": 0
            }
          ]
        },
        "tokenOutputs": [
          {
            "id": "db1a4e48-0fc5-4f6c-8a80-d9d6c561a436",
            "ownerPublicKey": "AhmbUFpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc=",
            "tokenAmount": "AAAAAAAAAAAAAAAAAAAD6A==",
            "revocationCommitment": "AmSb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "withdrawBondSats": "10000",
            "withdrawRelativeBlockLocktime": "100"
          }
        ],
        "sparkOperatorIdentityPublicKeys": [
          "AsiZ0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        ],
        "network": "REGTEST",
        "validityDurationSeconds": "60",
        "clientCreatedTimestamp": "1970-01-01T00:00:00.100Z",
        "invoiceAttachments": []
      }
    },
    {
      "name": "transfer_v3_with_invoice_attachments",
      "description": "Full transfer transaction V3 with invoice attachments",
      "expectedHash": "b815658acfac749ab1336ec1f920df30a103a1c44031479e34a9080b0bcf5181",
      "tokenTransaction": {
        "version": 3,
        "transferInput": {
          "outputsToSpend": [
            {
              "prevTokenTransactionHash": "rTW2SK1e5YJWb2L7n/F/Wps1NBxuoFKOi+P+c5hshJQ=",
              "prevTokenTransactionVout": 0
            }
          ]
        },
        "tokenOutputs": [
          {
            "id": "db1a4e48-0fc5-4f6c-8a80-d9d6c561a436",
            "ownerPublicKey": "AhmbUFpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc=",
            "tokenAmount": "AAAAAAAAAAAAAAAAAAAD6A==",
            "revocationCommitment": "AmSb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "withdrawBondSats": "10000",
            "withdrawRelativeBlockLocktime": "100"
          }
        ],
        "sparkOperatorIdentityPublicKeys": [
          "AsiZ0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        ],
        "network": "REGTEST",
        "validityDurationSeconds": "60",
        "clientCreatedTimestamp": "1970-01-01T00:00:00.100Z",
        "invoiceAttachments": [
          {
            "sparkInvoice": "sparkrt1pgssx5us3wkqjza8g80xz3a9gznx25msq6g3ty8exfym9q3ahcv86vsnzfmssqgjzqqejtaxmwj8ms9rn58574nvlq4j5zr5v4ehgnt9d4hnyggr2wgghtqfpwn5rhnpg7j5pfn92dcqdyg4jrunyjdjsg7muxraxgfn5rqgandgr3sxzrqdmew8qydzvz3qpylysylkgcaw9vpm2jzspls0qtr5kfmlwz244rvuk25w5w2sgc2pyqsraqdyp8tf57a6cn2egttaas9ms3whssenmjqt8wag3lgyvdzjskfeupt8xwwdx4agxdm9f0wefzj28jmdxqeudwcwdj9vfl9sdr65x06r0tasf5fwz2"
          },
          {
            "sparkInvoice": "sparkrt1pgssx5us3wkqjza8g80xz3a9gznx25msq6g3ty8exfym9q3ahcv86vsnzfmqsqgjzqqejtavuhf8n5uh9a74zw66kqaz5zr5v4ehgnt9d4hnyggr2wgghtqfpwn5rhnpg7j5pfn92dcqdyg4jrunyjdjsg7muxraxgfn5zcglrwcr3sxzzqt3wrjrgnq5gqf8eyp8ajx8t3tqw65s5q0urczca9jwlmsj4dgm89j4r4rj5zxzsfqyqlgrfqw9ucldgmfzs5zmkekj90thwzmn6ps55gdjnz23aarjkf245608yg0v2x6xdpdrz6m8xjlhtru0kygcu4zhqwlth9duadfqpruuzx4tc7fdckn"
          }
        ]
      }
    },
    {
      "name": "partial_mint_v3",
      "description": "Partial mint transaction V3 - no expiry time, no output ID/revocation/withdrawal fields",
      "expectedHash": "335e5d1afd02b4bcc37fa74f068097b37859198111a653d827d73f95351da799",
      "tokenTransaction": {
        "version": 3,
        "mintInput": {
          "issuerPublicKey": "AvKb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60t",
          "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc="
        },
        "tokenOutputs": [
          {
            "ownerPublicKey": "AhmbUFpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc=",
            "tokenAmount": "AAAAAAAAAAAAAAAAAAAD6A=="
          }
        ],
        "sparkOperatorIdentityPublicKeys": [
          "AsiZ0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        ],
        "network": "REGTEST",
        "validityDurationSeconds": "60",
        "clientCreatedTimestamp": "1970-01-01T00:00:00.100Z",
        "invoiceAttachments": []
      }
    },
    {
      "name": "partial_create_v3",
      "description": "Partial create transaction V3 - no expiry time, no creation entity public key",
      "expectedHash": "f7fe6ee3b97adc78f79ef356757c58de519c585a06a3b3fe269ce28dba925b06",
      "tokenTransaction": {
        "version": 3,
        "createInput": {
          "issuerPublicKey": "AvKb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60t",
          "tokenName": "TestToken",
          "tokenTicker": "TEST",
          "decimals": 8,
          "maxSupply": "AAAAAAAAAAAAAAAAAAAD6A==",
          "isFreezable": false
        },
        "tokenOutputs": [],
        "sparkOperatorIdentityPublicKeys": [
          "AsiZ0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        ],
        "network": "REGTEST",
        "validityDurationSeconds": 60,
        "clientCreatedTimestamp": "1970-01-01T00:00:00.100Z",
        "invoiceAttachments": []
      }
    },
    {
      "name": "mint_v3_multiple_outputs",
      "description": "Mint transaction with multiple token outputs",
      "expectedHash": "50c90ae5308bb30aaef02efcf58a3c19f1b27b6221d60d42df7dbd30a2a7ce0c",
      "tokenTransaction": {
        "version": 3,
        "mintInput": {
          "issuerPublicKey": "AvKb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60t",
          "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc="
        },
        "tokenOutputs": [
          {
            "id": "db1a4e48-0fc5-4f6c-8a80-d9d6c561a436",
            "ownerPublicKey": "AhmbUFpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc=",
            "tokenAmount": "AAAAAAAAAAAAAAAAAAAB9A==",
            "revocationCommitment": "AmSb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "withdrawBondSats": "10000",
            "withdrawRelativeBlockLocktime": "100"
          },
          {
            "id": "a1b2c3d4-e5f6-4a5b-8c7d-9e0f1a2b3c4d",
            "ownerPublicKey": "AvKb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60t",
            "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc=",
            "tokenAmount": "AAAAAAAAAAAAAAAAAAAB9A==",
            "revocationCommitment": "AmSb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "withdrawBondSats": "5000",
            "withdrawRelativeBlockLocktime": "50"
          }
        ],
        "sparkOperatorIdentityPublicKeys": [
          "AsiZ0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        ],
        "network": "REGTEST",
        "validityDurationSeconds": "60",
        "clientCreatedTimestamp": "1970-01-01T00:00:00.100Z",
        "invoiceAttachments": []
      }
    },
    {
      "name": "transfer_v3_multiple_inputs",
      "description": "Transfer transaction with multiple inputs to spend",
      "expectedHash": "caf12b034ae0777fff7775c0c2063057e1cf4bb6e384aa28451424445f827fff",
      "tokenTransaction": {
        "version": 3,
        "transferInput": {
          "outputsToSpend": [
            {
              "prevTokenTransactionHash": "rTW2SK1e5YJWb2L7n/F/Wps1NBxuoFKOi+P+c5hshJQ=",
              "prevTokenTransactionVout": 0
            },
            {
              "prevTokenTransactionHash": "AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE=",
              "prevTokenTransactionVout": 1
            }
          ]
        },
        "tokenOutputs": [
          {
            "id": "db1a4e48-0fc5-4f6c-8a80-d9d6c561a436",
            "ownerPublicKey": "AhmbUFpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc=",
            "tokenAmount": "AAAAAAAAAAAAAAAAAAAH0A==",
            "revocationCommitment": "AmSb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "withdrawBondSats": "10000",
            "withdrawRelativeBlockLocktime": "100"
          }
        ],
        "sparkOperatorIdentityPublicKeys": [
          "AsiZ0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        ],
        "network": "REGTEST",
        "validityDurationSeconds": "60",
        "clientCreatedTimestamp": "1970-01-01T00:00:00.100Z",
        "invoiceAttachments": []
      }
    },
    {
      "name": "create_v3_with_max_supply_zero",
      "description": "Create transaction with max supply set to zero (unlimited)",
      "expectedHash": "0013c450369e52db308da26e7845a0430b88a50924360d06509ce88daf4fcb36",
      "tokenTransaction": {
        "version": 3,
        "createInput": {
          "issuerPublicKey": "AvKb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60t",
          "tokenName": "UnlimitedToken",
          "tokenTicker": "UNLTD",
          "decimals": 8,
          "maxSupply": "AAAAAAAAAAAAAAAAAAAAAA==",
          "isFreezable": false,
          "creationEntityPublicKey": "AhmbUFpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        },
        "tokenOutputs": [],
        "sparkOperatorIdentityPublicKeys": [
          "AsiZ0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        ],
        "network": "REGTEST",
        "validityDurationSeconds": "60",
        "clientCreatedTimestamp": "1970-01-01T00:00:00.100Z",
        "invoiceAttachments": []
      }
    },
    {
      "name": "create_v3_freezable",
      "description": "Create transaction for a freezable token",
      "expectedHash": "2a2c45a3689b9e4ab202382c54da75646c0abafddb37fcf2c9ad8edb8dd691ee",
      "tokenTransaction": {
        "version": 3,
        "createInput": {
          "issuerPublicKey": "AvKb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60t",
          "tokenName": "FreezableToken",
          "tokenTicker": "FREEZE",
          "decimals": 8,
          "maxSupply": "AAAAAAAAAAAAAAAAAAAD6A==",
          "isFreezable": true,
          "creationEntityPublicKey": "AhmbUFpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        },
        "tokenOutputs": [],
        "sparkOperatorIdentityPublicKeys": [
          "AsiZ0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        ],
        "network": "REGTEST",
        "validityDurationSeconds": "60",
        "clientCreatedTimestamp": "1970-01-01T00:00:00.100Z",
        "invoiceAttachments": []
      }
    },
    {
      "name": "mint_v3_mainnet",
      "description": "Mint transaction on MAINNET network",
      "expectedHash": "79b70d9eac8cc94c0e3ac5507a3ccf25ae2b97b69f2bf29e993c7e9b331a646e",
      "tokenTransaction": {
        "version": 3,
        "mintInput": {
          "issuerPublicKey": "AvKb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60t",
          "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc="
        },
        "tokenOutputs": [
          {
            "id": "db1a4e48-0fc5-4f6c-8a80-d9d6c561a436",
            "ownerPublicKey": "AhmbUFpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc=",
            "tokenAmount": "AAAAAAAAAAAAAAAAAAAD6A==",
            "revocationCommitment": "AmSb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "withdrawBondSats": "10000",
            "withdrawRelativeBlockLocktime": "100"
          }
        ],
        "sparkOperatorIdentityPublicKeys": [
          "AsiZ0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        ],
        "network": "MAINNET",
        "validityDurationSeconds": "60",
        "clientCreatedTimestamp": "1970-01-01T00:00:00.100Z",
        "invoiceAttachments": []
      }
    },
    {
      "name": "mint_v3_testnet",
      "description": "Mint transaction on TESTNET network",
      "expectedHash": "4430a6dd17c486bbec4232aa6da8240a2fae87ef8b5a839fc70e72bde0f2c9bf",
      "tokenTransaction": {
        "version": 3,
        "mintInput": {
          "issuerPublicKey": "AvKb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60t",
          "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc="
        },
        "tokenOutputs": [
          {
            "id": "db1a4e48-0fc5-4f6c-8a80-d9d6c561a436",
            "ownerPublicKey": "AhmbUFpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc=",
            "tokenAmount": "AAAAAAAAAAAAAAAAAAAD6A==",
            "revocationCommitment": "AmSb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "withdrawBondSats": "10000",
            "withdrawRelativeBlockLocktime": "100"
          }
        ],
        "sparkOperatorIdentityPublicKeys": [
          "AsiZ0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        ],
        "network": "TESTNET",
        "validityDurationSeconds": "60",
        "clientCreatedTimestamp": "1970-01-01T00:00:00.100Z",
        "invoiceAttachments": []
      }
    },
    {
      "name": "partial_mint_v3_with_invoice_attachments",
      "description": "Partial mint transaction with invoice attachments (should be sorted)",
      "expectedHash": "a0b96be6da802e274671e3feea900bee28e4a7f5a3e9bcd08a8a3dbb9c3f8478",
      "tokenTransaction": {
        "version": 3,
        "mintInput": {
          "issuerPublicKey": "AvKb0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60t",
          "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc="
        },
        "tokenOutputs": [
          {
            "ownerPublicKey": "AhmbUFpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u",
            "tokenIdentifier": "BwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwc=",
            "tokenAmount": "AAAAAAAAAAAAAAAAAAAD6A=="
          }
        ],
        "sparkOperatorIdentityPublicKeys": [
          "AsiZ0FpI03j0RWMcZZXeewr8P2M2ieIH4KN6Xfgqn60u"
        ],
        "network": "REGTEST",
        "validityDurationSeconds": "60",
        "clientCreatedTimestamp": "1970-01-01T00:00:00.100Z",
        "invoiceAttachments": [
          {
            "sparkInvoice": "sparkrt1pgssx5us3wkqjza8g80xz3a9gznx25msq6g3ty8exfym9q3ahcv86vsnzfmssqgjzqqejtaxmwj8ms9rn58574nvlq4j5zr5v4ehgnt9d4hnyggr2wgghtqfpwn5rhnpg7j5pfn92dcqdyg4jrunyjdjsg7muxraxgfn5rqgandgr3sxzrqdmew8qydzvz3qpylysylkgcaw9vpm2jzspls0qtr5kfmlwz244rvuk25w5w2sgc2pyqsraqdyp8tf57a6cn2egttaas9ms3whssenmjqt8wag3lgyvdzjskfeupt8xwwdx4agxdm9f0wefzj28jmdxqeudwcwdj9vfl9sdr65x06r0tasf5fwz2"
          },
          {
            "sparkInvoice": "sparkrt1pgssx5us3wkqjza8g80xz3a9gznx25msq6g3ty8exfym9q3ahcv86vsnzfmqsqgjzqqejtavuhf8n5uh9a74zw66kqaz5zr5v4ehgnt9d4hnyggr2wgghtqfpwn5rhnpg7j5pfn92dcqdyg4jrunyjdjsg7muxraxgfn5zcglrwcr3sxzzqt3wrjrgnq5gqf8eyp8ajx8t3tqw65s5q0urczca9jwlmsj4dgm89j4r4rj5zxzsfqyqlgrfqw9ucldgmfzs5zmkekj90thwzmn6ps55gdjnz23aarjkf245608yg0v2x6xdpdrz6m8xjlhtru0kygcu4zhqwlth9duadfqpruuzx4tc7fdckn"
          }
        ]
      }
    }
  ]
}
